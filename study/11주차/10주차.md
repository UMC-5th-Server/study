#2.6 Modules and Dependency Injection
![image](https://github.com/UMC-5th-Server/study/assets/96863137/91b1477d-0204-49c2-beb3-0ea5b31a745d)
app.module.ts에는 AppController, AppService만 있어야 한다. (여러 개 있으면 X)

앱은 여러 개의 모듈로 구성됨.

모듈은 컨트롤러와 서비스로 구성됨.

컨트롤러는 url을 가져오고 함수를 실행한다.

서비스는 실제로 function을 가지는 부분이다. 필요하다면 db에 접근도 한다.

nest g mo
컨트롤러와 서비스를 가진 모듈을 만들었다. (app.module.ts 보다 작은 단위의)

Service 보면 Injectable 데코레이터가 있다. 이건 컨트롤러에 주입 가능하다는 뜻.

Module에서 providers: [MoviesService], 없애면 컨트롤러에는 provider 필요하다고 에러가 난다.

#2.7 Express on NestJS
nestjs는 express 위에서 돌아간다. 필요 시 Req, Res 데코레이터 사용 가능.
그러나 이러한 express 객체를 사용하면 좋지 않다. 2개의 프레임워크와 작동하기 때문에
그래서 Fastify라는 걸로 전환시킬 수 있다.
Nest는 Fastify 같은 라이브러리와 호환 된다. 이건 express보다 2배 빠르다. 같은 동작 하지만.
항상 nestjs에서는 어떤 방식으로 하는지 알아야 겠지.
res.json() 작동할 것이다. (express에서 json 다루는 방식이기 때문에)
nestjs만 사용하면 express에서 fastify로 전환 가능. (그렇지만 Res, Req 이건 사용하지 않을 것임)
expree와 fastify 전환하고 싶을 때 nestjs가 알아서 해줄 것임. (성능 향상에 좋다)
express에 접근 가능. Req, Res 사용 원하면. 그렇지만 추천 X. Fastify처럼 express와는 다른 방법 쓰고 싶을 수 있으니.


#3.0 Introduction to Testing in Nest
package.json 파일에 보면 테스팅과 관련된 5개 항목을 볼 수 있음.

jest : 자바스크립트를 아주 쉽게 테스팅하는 npm 패키지.
.spec.ts : test module을 포함한 파일.

ex) movies controller를 테스트하기 위해서는 movies.controller.spec.ts 파일이 있어야함.

NestJs에서는 jest가 .spec.ts 파일들을 찾아볼 수 있도록 설정되어 있음.
[>npm run test:cov]를 통해서 테스트 결과 값과 coverage(적용 범위) 값을 알 수 있음.

"test:cov":"jest --coverage"

테스트 PASS/FAIL 로 결과가 나옴.



* Unit Testing : 모든 function을 따로 테스트하는 것. 서비스에서 분리된 유닛을 테스트하는 것.

* End-to-End(e2e) Testing : Whole System Testing. 전체 시스템 테스팅.


